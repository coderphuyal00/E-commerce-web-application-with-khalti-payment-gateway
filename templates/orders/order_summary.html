{%extends 'base.html'%}
{%load custom_filters%}
{%block title%}Order Summary{%endblock%}

{%block content%}
<section class="py-24 relative">
    <div class="w-full max-w-7xl px-4 md:px-5 lg-6 mx-auto">

        <h2 class="font-manrope font-bold text-3xl sm:text-4xl leading-10 text-black mb-11">
            Your Order has been Confirmed.
        </h2>
        <h6 class="font-medium text-xl leading-8 text-black mb-3">Hello, {{request.user.full_name}}</h6>
        <p class="font-normal text-lg leading-8 text-gray-500 mb-11">Your order has been completed and be
            delivered on 5-7 days .</p>
        <div
            class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-8 py-6 border-y border-gray-100 mb-6">
            <div class="box group">
                <p class="font-normal text-base leading-7 text-gray-500 mb-3 transition-all duration-500 group-hover:text-gray-700">Delivery Date</p>
                <h6 class="font-semibold font-manrope text-2xl leading-9 text-black">{{order.delivery_date|date}}</h6>
            </div>
            <div class="box group">
                <p class="font-normal text-base leading-7 text-gray-500 mb-3 transition-all duration-500 group-hover:text-gray-700">Order Number</p>
                <h6 class="font-semibold font-manrope text-2xl leading-9 text-black">{{order.order_id}}</h6>
            </div>
            
            <div class="box group">
                <p class="font-normal text-base leading-7 text-gray-500 mb-3 transition-all duration-500 group-hover:text-gray-700">Address</p>
                <h6 class="font-semibold font-manrope text-2xl leading-9 text-black">{{order.shipping_address.city}},{{order.shipping_address.district}}
                </h6>
            </div>
            <div class="box group">
                <p class="font-normal text-base leading-7 text-gray-500 mb-3 transition-all duration-500 group-hover:text-gray-700">Payment Method</p>
                <h6 class="font-semibold font-manrope text-2xl leading-9 text-black">{{order.payment_method}}
                </h6>
            </div>
        </div>
        {%for item in order.items.all%}
        <div class="grid grid-cols-7 w-full pb-6 border-b border-gray-100">
            <div class="col-span-7 min-[500px]:col-span-2 md:col-span-1">
                <img src="{{item.item.product.productimage_set.all.first.image.url}}" alt="Skin Care Kit image" class="w-full rounded-xl object-cover">
            </div>
            <div
                class="col-span-7 min-[500px]:col-span-5 md:col-span-6 min-[500px]:pl-5 max-sm:mt-5 flex flex-col justify-center">
                <div class="flex flex-col min-[500px]:flex-row min-[500px]:items-center justify-between">
                    <div class="">
                        <h5 class="font-manrope font-semibold text-2xl leading-9 text-black mb-6">{{item.item.product.name}}
                        </h5>
                        <p class="font-normal text-xl leading-8 text-gray-500">Quantity : <span
                                class="text-black font-semibold">{{item.quantity}}</span></p>
                    </div>

                    <h5 class="font-manrope font-semibold text-3xl leading-10 text-black sm:text-right mt-3">
                        ${{item.item.product.get_price}}
                    </h5>
                </div>
            </div>
        </div>
        {%endfor%}


        <div class="flex items-center justify-center sm:justify-end w-full my-6">
            <div class=" w-full">
                <div class="flex items-center justify-between mb-6">
                    <p class="font-normal text-xl leading-8 text-gray-500">Subtotal</p>
                    <p class="font-semibold text-xl leading-8 text-gray-900">${{order.get_ordertotal_price}}</p>
                </div>
                <div class="flex items-center justify-between mb-6">
                    <p class="font-normal text-xl leading-8 text-gray-500">Shipping Charge</p>
                    <p class="font-semibold text-xl leading-8 text-gray-900">$1.25</p>
                </div>
                <div class="flex items-center justify-between mb-6">
                    <p class="font-normal text-xl leading-8 text-gray-500">Taxes</p>
                    <p class="font-semibold text-xl leading-8 text-gray-900">$10.00</p>
                </div>
                <div class="flex items-center justify-between mb-6">
                    <p class="font-normal text-xl leading-8 text-gray-500">Discount</p>
                    <p class="font-semibold text-xl leading-8 text-gray-900">$0.00</p>
                </div>
                <div class="flex items-center justify-between py-6 border-y border-gray-100">
                    <p class="font-manrope font-semibold text-2xl leading-9 text-gray-900">Total</p>
                    <p class="font-manrope font-bold text-2xl leading-9 text-indigo-600">${{order.get_total_price_with_charges}}</p>
                </div>
                <div class="flex items-center justify-center py-6 border-y border-gray-100">
                    <a href="{%url 'order-payment' order.id %}"
                    class="flex w-sm text-sm px-4 py-2.5 font-semibold items-center justify-center rounded-md bg-black text-white duration-100 bg-black hover:bg-gray-700">Pay ${{order.get_total_price_with_charges}}</a>
                </div>

            </div>
           
        </div>
        <div class="data ">
            <p class="font-normal text-lg leading-8 text-gray-500 mb-11">We'll be sending a shipping
                confirmation email when the items shipped successfully.</p>
            <h6 class="font-manrope font-bold text-2xl leading-9 text-black mb-3">Thank you for shopping
                with us!</h6>
            <p class="font-medium text-xl leading-8 text-indigo-600">Team Pagedone</p>
        </div>
    </div>
</section>
                                        



{%endblock%}